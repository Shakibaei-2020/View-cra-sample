<app-utilisateur></app-utilisateur>
<br><br><br>

<!-- Declaration d'activité  -->


<div class="contenue">
  <div class="Frais">

    <h2> Déclaration d'activité </h2>
  </div>
  <select class="form-input2" aria-label="Default select example" [(ngModel)]="monthSelected"
    (change)="updateMonth()">
    <option value="1">Janvier</option>
    <option value="2">Février</option>
    <option value="3">Mars</option>
    <option value="4">Avril</option>
    <option value="5">Mai</option>
    <option value="6">Juin</option>
    <option value="7">Juillet</option>
    <option value="8">Août</option>
    <option value="9">Septembre</option>
    <option value="10">Octobre</option>
    <option value="11">Novembre</option>
    <option value="12">Décembre</option>
  </select>


  <select class="form-input3" aria-label="Default select example"  value="2021" [(ngModel)]="yearInput" name="yearInput">
    <option value="2021">2021</option>
    <option value="2023">2023</option>
    <option value="2024">2024</option>
  </select>

    <table (change)="total()">
      <thead>
        <tr>
          <th>CLIENT </th>
          <th>REF.INTERNE </th>
          <th>REF.CLIENT </th>
          <th>R.AUTO </th>
          <th *ngFor="let element of tabJours;">{{element}} </th>
          <th>total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of dynamicRowsActivity; let i = index">
          <td>
            <select class="form-input" aria-label="Default select example" [(ngModel)]="selectedOption"
              (change)="updatedAfterSelect()">
              <option *ngFor="let mission of missions" value="{{mission.id}}">{{mission.missionTitle}}</option>
            </select>
          </td>
          <td><input class=" choice" value="{{refinterne}}"></td>
          <td><input class=" choice" value="{{refClient}}"></td>
          <td>
            <button class="btnRemplir" (click)="remplirProjet1()">Remplir</button>
            <button class="btnRemplir" (click)="remplirRemoteP1()">TAD</button>
          </td>
          <td *ngFor="let element of tabJours;let indexOfelement=index;">
            <input class=" inputDay" step="0.25" min="0" max="1" name="jour-{{indexOfelement}}" id="jour-{{indexOfelement}}" type="number" value="{{dureeProjet1}}">
            <input class="inputRemote" name="remote-{{indexOfelement}}" id="remote-{{indexOfelement}}" type="checkbox"[checked]="isRemote" value="{{isRemote}}">
          </td>
          <td>
            <input class="inputDay twolast"  type="" value={{totalProjet1}} id="" required [(ngModel)]="totalProjet1"name="totalProjet1">
           </td>
          <td>
            <button class="btnAjouterRow twolast" *ngIf="i === dynamicRowsActivity.length - 1" (click)="addNewActivity()">+</button>
          </td>
        </tr>
        <tr *ngIf="dynamicRowsActivity.length === 0">
          <td>
            <button class="btnAjouterRow twolast" (click)="addNewActivity()">+</button>
          </td>
          <td></td>
        </tr>
        <tr></tr>
      </tbody>
    </table>
    <br><br>
    <span>Totaux jours travaillés : </span><input class=" inputDay">
  </div>
  <hr>

<br>
<!--______________________________________________________ Astreinte_________________________________________________________ -->


<div class="contenue">
  <div class="Frais">
    <h2> Astreinte </h2>

    <table>
      <thead>
        <tr>
          <th>CLIENT </th>
          <th>TYPE </th>
          <th>UNITE </th>
          <th>R.AUTO </th>
          <th *ngFor="let element of tabJours;">{{element}} </th>
          <th>total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of dynamicRowsAstreinte; let i = index">
          <td>
            <select class="form-input" aria-label="Default select example" [(ngModel)]="selectedOption5" (change)="updatedAfterSelect5()">
              <option *ngFor="let mission of missions" value="{{mission.id}}">{{mission.missionTitle}}</option>
            </select>
          </td>

          <td>
            <select class="form-input" aria-label="Default select example" [(ngModel)]="selectedTypeUpdateValue" (change)="selectedTypeUpdate()">
              <option *ngFor="let typeActivity of lesTypeActivity" value="{{typeActivity.id}}">{{typeActivity.type}}
              </option>
            </select>
          </td>
          <td>
            <select class="form-input" aria-label="Default select example">
              <option value="1">Heure</option>
              <option value="2">Jour</option>
            </select>
          </td>
          <td>
            <button class="btnRemplir" (click)="remplirAstreinte1()">Remplir</button>
          </td>
          <td *ngFor="let element of tabJours;let indexOfelement=index;">
            <input class=" inputDay" name="jourAstreinte1-{{indexOfelement}}" id="jourAstreinte1-{{indexOfelement}}" type="number" value="{{dureeAstreinte1}}">
          </td>
          <td><input class=" inputDay" type="" value={{totalAstreinte1}} id="" required [(ngModel)]="totalAstreinte1"
              name="totalAstreinte1"></td>
          <td>
            <button class="btnAjouterRow" *ngIf="i === dynamicRowsAstreinte.length - 1" (click)="addNewAstreinte()">+</button>
          </td>
        </tr>
        <tr *ngIf="dynamicRowsAstreinte.length === 0">
          <td>
            <button class="btnAjouterRow" (click)="addNewAstreinte()">Add New</button>
          </td>
          <td></td>
        </tr>
        <tr></tr>
      </tbody>
    </table>
  </div>
</div>

<div class="register">
  <button class="send" (click)="EnregisterEtEnvoyer()">Enregister & Envoyer</button>
  <button class="send">Imprimer</button>
  <button class="send">Aide</button>
  <button class="send" (click)="retour()">Retour</button>
</div>

<br><br><br><br>
<p>
</p>
<br><br><br><br>

<br><br><br><br>