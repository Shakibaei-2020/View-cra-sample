<app-utilisateur></app-utilisateur>
<br><br><br>

<!-- Declaration d'activité  -->


<div class="contenue">
  <div class="Frais">

    <h2> Déclaration d'activité </h2>
  </div>
  <select class="form-input2" aria-label="Default select example" [(ngModel)]="monthSelected"
    (change)="updateMonth()">
    <option value="1">Janvier</option>
    <option value="2">Février</option>
    <option value="3">Mars</option>
    <option value="4">Avril</option>
    <option value="5">Mai</option>
    <option value="6">Juin</option>
    <option value="7">Juillet</option>
    <option value="8">Août</option>
    <option value="9">Septembre</option>
    <option value="10">Octobre</option>
    <option value="11">Novembre</option>
    <option value="12">Décembre</option>
  </select>


  <select class="form-input3" aria-label="Default select example"  value="2021" [(ngModel)]="yearInput" name="yearInput">
    <option value="2021">2021</option>
    <option value="2023">2023</option>
    <option value="2024">2024</option>
  </select>

    <table>
      <thead>
        <tr>
          <th>CLIENT </th>
          <th>REF.INTERNE </th>
          <th>REF.CLIENT </th>
          <th>R.AUTO </th>
          <th *ngFor="let element of tabJours;">{{element}} </th>
          <th>total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of dynamicRowsActivity; let iActivity = index">
          <td>
            <select class="form-input" aria-label="Default select example" [(ngModel)]="selectedOption" (change)="updatedAfterSelect()">
              <option *ngFor="let mission of missions" value="{{mission.id}}">{{mission.missionTitle}}</option>
            </select>
          </td>
          <td><input class=" choice" value="{{refinterne}}"></td>
          <td><input class=" choice" value="{{refClient}}"></td>
          <td>
            <button class="btnRemplir" (click)="remplirProjet1()">Remplir</button>
            <button class="btnRemplir" (click)="remplirRemoteP1()">TAD</button>
          </td>
          <td *ngFor="let element of tabJours;let indexOfelement=index;">
            <input class=" inputDay" step="0.25" min="0" max="1" name="jour-{{indexOfelement}}" id="jour-{{indexOfelement}}" type="number" value="{{dureeProjet1}}"  [disabled]="" (change)="total()" value="0">
            <input class="inputRemote" name="remote-{{indexOfelement}}" id="remote-{{indexOfelement}}" type="checkbox"[checked]="isRemote" value="{{isRemote}}">
          </td>
          <td>
            <input class="inputDay twolast"  type="" value={{totalProjet1}} id="" required [(ngModel)]="totalProjet1"name="totalProjet1">
           </td>
          <td>
            <button class="btnAjouterRow twolast" *ngIf="iActivity === dynamicRowsActivity.length - 1" (click)="addNewActivity()">+</button>
          </td>
        </tr>
        <tr *ngIf="dynamicRowsActivity.length === 0">
          <td>
            <button class="btnAjouterRow twolast" (click)="addNewActivity()">+</button>
          </td>
        </tr>
      </tbody>
    </table>
    <br><br>
    <span>Totaux jours travaillés : </span><input class=" inputDay" value={{toalDuTotalAcitivty}}>
  </div>
  <hr>

<br>
<!--______________________________________________________ Astreinte_________________________________________________________ -->


<div class="contenue">
  <div class="Frais">
    <h2> Astreinte </h2>

    <table>
      <thead>
        <tr>
          <th>PROJECT </th>
          <th>TYPE </th>
          <th>UNITE </th>
          <th>R.AUTO </th>
          <th *ngFor="let element of tabJours;">{{element}} </th>
          <th>total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of dynamicRowsAstreinte; let iAstreinte = index">
          <td>
            <select   type="number" class="form-input" aria-label="Default select example" name="selectedOption5-{{iAstreinte}}" id="selectedOption5-{{iAstreinte}}"   (change)="updatedAfterSelect5()">
              <option *ngFor="let mission of missions" value="{{mission.id}}">{{mission.missionTitle}}</option>
            </select>
          </td>
          <td>
            <select  type="number" class="form-input" aria-label="Default select example"  name="selectedTypeUpdateValue-{{iAstreinte}}" id="selectedTypeUpdateValue-{{iAstreinte}}"   (change)="selectedTypeUpdate()">
              <option *ngFor="let typeActivity of lesTypeActivity" value="{{typeActivity.id}}">{{typeActivity.type}}
              </option>
            </select>
          </td>
          <td>
            <select  type="number"  class="form-input" aria-label="Default select example"  name="uniteAstreinte-{{iAstreinte}}" id="uniteAstreinte-{{iAstreinte}}" >
              <option value="1">Heure</option>
              <option value="2">Jour</option>
            </select>
          </td>
          <td>
            <button class="btnRemplir" (click)="remplirAstreinte()">Remplir</button>
          </td>
          <td *ngFor="let element of tabJours;let indexOfelement=index;">
            <input class=" inputDay" name="jourAstreinte-{{indexOfelement}}-{{iAstreinte}}" id="jourAstreinte-{{indexOfelement}}-{{iAstreinte}}" type="number" value="{{dureeAstreinte}}">
          </td>
          <td><input class=" inputDay" type="" value={{totalAstreinte}}></td>
          <td>
            <button class="btnAjouterRow" *ngIf="iAstreinte === dynamicRowsAstreinte.length - 1"  (click)="addNewAstreinte()">+</button>
          </td>
        </tr>
        <tr *ngIf="dynamicRowsAstreinte.length === 0">
          <td>
            <button class="btnAjouterRow" (click)="addNewAstreinte()">Add New</button>
          </td>
          <td></td>
        </tr>
        <tr></tr>
      </tbody>
    </table>
  </div>
</div>

<div class="register">
  <button class="send" (click)="EnregisterEtEnvoyer()">Enregister & Envoyer</button>
  <button class="send">Imprimer</button>
  <button class="send">Aide</button>
  <button class="send" (click)="retour()">Retour</button>
</div>

<br><br><br><br>
<p>
</p>
<button (click)="test()">test</button>



 <!-- json working
<div style="text-align:center">
  <h2>
List jours feriées  </h2>
  <ul *ngFor="let item of joursFerieesList">
     <li>
        <h3>date :{{item.date}}, nom: {{item.nom_jour_ferie}}</h3>
     </li>
  </ul>
</div>
-->
