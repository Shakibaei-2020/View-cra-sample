<app-administrateur></app-administrateur>

<br><br><br><br>

<div class="container">
  <div class="panel">
    <span>
      <button class="img-fluid bouttonMenu ">
        <img class="img1" src="https://image.flaticon.com/icons/png/512/4117/4117837.png ">
      </button>
      <h2 class="page">Gestion de la note de frais de </h2>
    </span>
    <hr>


    <div class="panel-body bio-graph-info">
      <br>
      <div class="row">

        <div class="bio-row">
          <div class="inputbox mt-1"><span class="input-title">Cout HT : {{expense.costHT}} €</span> <input type="text"
              required [(ngModel)]="updatedExpense.costHT" name="updatedExpense.costHT"> </div>

        </div>
        <div class="bio-row">
          <div class="inputbox mt-1"><span class="input-title">Date frais : {{expense.dateExpense | date:
              'dd/MM/yyyy'}}</span> <input type="Date" required [(ngModel)]="dateExpense" name="dateExpense"> </div>
        </div>

        <div class="bio-row">

          <div class="inputbox mt-1"><span class="input-title">Cout TVA : {{expense.costTVA}} €</span><input type="text"
              required [(ngModel)]="updatedExpense.costTVA" name="updatedExpense.costTVA"> </div>
        </div>
        <div class="bio-row">
          <div class="inputbox mt-1"><span class="input-title">Date demande de frais : {{expense.dateRequest | date:
              'dd/MM/yyyy'}} </span> <input type="Date" required [(ngModel)]="dateRequest" name="dateRequest"> </div>

        </div>
        <div class="bio-row">
          <div class="inputbox mt-1"><span class="input-title">Facturable : {{expense.billable}} </span><br>
            <select class="form-input" aria-label="Default select example" required
              [(ngModel)]="updatedExpense.billable" name="updatedExpense.billable">
              <option value="true">Oui</option>
              <option value="false">Non</option>
            </select>
          </div>

          <div class="inputbox mt-1"><span class="input-title">Type : {{expense.typeExpense.type}}</span><br>
            <select class="form-input" required [(ngModel)]="idOfExpenseType" name="getTypeLeave" (change)="getExpenseType()">              
              <option *ngFor="let allTypeExpens of allTypeExpense" value="{{allTypeExpens.id}}">{{allTypeExpens.type}}
              </option>
            </select>
          </div>


        </div>
        <div class="bio-row">

          <div class="inputbox mt-1"><span class="input-title">État : {{expense.status}}</span><br>
            <select class="form-input" aria-label="Default select example" required [(ngModel)]="updatedExpense.status"
              name="updatedExpense.status">
              <option *ngFor="let statu of status" value={{statu}}>{{statu}}</option>


            </select>
          </div>
        </div>


        <div class="bio-row"></div>

        <div class="bio-row">
          <br> <br>

          <button class="button" data-toggle="modal" data-target="#updateModal">Mettre à jour</button>



          <div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Alert update</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Êtes vous sur de vouloir mettre à jour ?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                  <button type="button" class="btn btn-primary" data-dismiss="modal"
                    (click)="updateExpense()">Sauvgarder</button>
                </div>
              </div>
            </div>
          </div>



          <button class="button" data-toggle="modal" data-target="#DeleteModal">Supprimer</button>


          <div class="modal fade" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Alert delete</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Êtes vous sur de vouloir supprimer?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                  <button type="button" class="btn btn-primary" data-dismiss="modal"
                    (click)="deleteExpense()">Supprimer</button>
                </div>
              </div>
            </div>
          </div>




        </div>

      </div>
    </div>
  </div>
</div>